(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={Form:"Form_Form__NwsvM",Input:"Form_Input__3llrw",Button:"Form_Button__2Ei0U"}},13:function(e,t,a){e.exports={ModalBackdrop:"Modal_ModalBackdrop__1Eww8"}},16:function(e,t,a){e.exports={Header:"Searchbar_Header__3ogLq"}},5:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__JweWX",Loader:"ImageGallery_Loader__1WcGj",CloseModal:"ImageGallery_CloseModal__1GaAG",ToBeginning:"ImageGallery_ToBeginning__1nrhm",LoarMoreBox:"ImageGallery_LoarMoreBox__2aWUP",LoadMore:"ImageGallery_LoadMore__1kEAx"}},50:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(1),r=a.n(c),o=a(6),s=a.n(o),i=a(4),l=a(7);a(15);function u(e){var t=e.className,a=e.type,c=e.name,r=e.value,o=e.placeholder,s=e.onChange;return Object(n.jsx)("input",{className:t,type:a,name:c,value:r,placeholder:o,onChange:s,autoComplete:"off",autoFocus:!0})}function j(e){var t=e.className,a=e.type,c=e.children,r=e.onClick;return Object(n.jsx)("button",{className:t,type:a,onClick:r,children:c})}var d=a(10),m=a.n(d);function b(e){var t=e.onSubmit,a=Object(c.useState)(""),r=Object(i.a)(a,2),o=r[0],s=r[1];return Object(n.jsxs)("form",{className:m.a.Form,id:"form",onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),s("")):l.b.warning("\u0412\u044b \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0432\u0432\u0435\u043b\u0438...")},children:[Object(n.jsx)(u,{className:m.a.Input,type:"text",name:"search",value:o,placeholder:"Search images and photos",onChange:function(e){var t=e.currentTarget.value;s(t)}}),Object(n.jsx)(j,{className:m.a.Button,type:"submit",children:"Search"})]})}var f=a(16),h=a.n(f);function O(e){var t=e.onSubmit;return Object(n.jsx)("header",{className:h.a.Header,children:Object(n.jsx)(b,{onSubmit:t})})}var g=a(14),p=a(17),x=a.n(p),_=a(12),v=a.n(_),y=a(19),w=a(18);a(48);function N(e){var t=e.item,a=t.id,c=t.webformatURL,r=t.largeImageURL;return Object(n.jsx)("li",{className:"ImageGalleryItem",children:Object(n.jsx)("img",{className:"ImageGalleryItem-image",src:c,alt:"",width:"100%","data-largeimg":r})},a)}var I=a(13),M=a.n(I),S=document.querySelector("#modal-root");function k(e){var t=e.children,a=e.onClose;function r(e){"Escape"===e.code&&console.log(e.code)}return Object(c.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}})),Object(o.createPortal)(Object(n.jsx)("div",{className:M.a.ModalBackdrop,onClick:function(e){e.target===e.currentTarget&&a()},children:Object(n.jsx)("div",{className:M.a.ModalContent,children:t})}),S)}var C=a(5),L=a.n(C),B="idle",G="pending",E="resolved",F="rejected";function T(e){var t=e.searchQuery,a=Object(c.useState)([]),r=Object(i.a)(a,2),o=r[0],s=r[1],u=Object(c.useState)(null),d=Object(i.a)(u,2),m=d[0],b=d[1],f=Object(c.useState)(1),h=Object(i.a)(f,2),O=h[0],p=h[1],I=Object(c.useState)(""),M=Object(i.a)(I,2),S=M[0],C=M[1],T=Object(c.useState)(B),P=Object(i.a)(T,2),U=P[0],H=P[1],R=Object(c.useState)(""),q=Object(i.a)(R,2),A=q[0],J=q[1];function W(){J("")}return Object(c.useEffect)((function(){U===F&&(l.b.error("".concat(m)),H(B))}),[m,U]),Object(c.useEffect)((function(){C(t),s([]),p(1)}),[t]),Object(c.useEffect)((function(){""!==S&&function(e,t){H(G),setTimeout((function(){(function(e,t,a){var n=new URLSearchParams({q:e,page:t,per_page:12,image_type:"photo",order:"popular"}),c="".concat("https://pixabay.com/api/","?key=").concat("19085277-779e4bd4c925c04676eaaf904","&").concat(n);return fetch(c).then((function(e){return e.json()})).then((function(e){return 0===e.hits.length?Promise.reject(new Error("\u041d\u0435\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0437\u0430\u043f\u0440\u043e\u0441\u0430")):e.hits}))})(e,t).then((function(e){s([].concat(Object(g.a)(o),Object(g.a)(e))),H(E)})).catch((function(e){b(e),H(F)}))}),500)}(S,O)}),[O,S]),Object(n.jsxs)("div",{children:[Object(n.jsx)("ul",{className:L.a.ImageGallery,onClick:function(e){if("IMG"===e.target.nodeName){var t=e.target.getAttribute("data-largeimg");J(t)}},children:U!==B&&Object(n.jsx)(_.ResponsiveMasonry,{columnsCountBreakPoints:{350:1,750:2},children:Object(n.jsx)(v.a,{gutter:"30px",children:o.map((function(e){return Object(n.jsx)(N,{item:e})}))})})}),U===E&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:L.a.LoarMoreBox,children:Object(n.jsx)(j,{className:L.a.LoadMore,type:"button",children:"Load More",onClick:function(){p(O+1)}})}),Object(n.jsx)("a",{href:"#form",className:L.a.ToBeginning,children:Object(n.jsx)(w.a,{size:"30px",color:"#ffffff"})})]}),U===G&&Object(n.jsx)(k,{children:Object(n.jsx)(x.a,{className:L.a.Loader,type:"Hearts",color:"#00BFFF",height:80,width:80})}),""!==A&&Object(n.jsxs)(k,{onClose:W,children:[Object(n.jsx)("img",{src:A}),Object(n.jsx)(j,{className:L.a.CloseModal,type:"button",onClick:W,children:Object(n.jsx)(y.a,{size:"30px",color:"#ffffff"})})]})]})}var P=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O,{onSubmit:function(e){r(e)}}),Object(n.jsx)(T,{searchQuery:a}),Object(n.jsx)(l.a,{position:"top-right",autoClose:2500})]})};a(49);s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(P,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.a6775543.chunk.js.map